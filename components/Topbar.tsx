'use client'

import Link from 'next/link'

import config from 'config'

import UserButton from './Navbar/UserButton'
import LangSwitch from './Navbar/LangSwitch'
import { useLang, useLocalizedRoutes, useTranslations } from 'hooks'

export default function Topbar() {
  const routes = useLocalizedRoutes()
  const lang = useLang()
  const t = useTranslations(lang)
  const { name, navItems } = config

  return (
    <div className="absolute left-0 top-0 w-full">
      <div className="flex items-center justify-between px-4 py-4 text-white md:px-6">
        <Link
          href={lang === 'en' ? '/' : routes.homeUrl}
          className="transition duration-150 ease-in-out hover:opacity-75"
          title="Saving Satoshi"
        >
          <h1 className="color-white text-xl sm:text-3xl">
            <svg
              aria-label="Saving Satoshi"
              viewBox="0 0 106 35"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="h-auto w-[90px] md:w-[104px]"
            >
              <path
                d="M15.6782 10.6736C15.6782 11.1999 15.6099 11.675 15.4731 12.0988C15.3433 12.5158 15.1689 12.885 14.9502 13.2063C14.7314 13.5276 14.4751 13.801 14.1812 14.0266C13.8872 14.2522 13.583 14.4367 13.2686 14.5803C12.9541 14.7238 12.6328 14.8298 12.3047 14.8982C11.9834 14.9665 11.6792 15.0007 11.3921 15.0007H1.10742V12.3347H11.3921C11.9048 12.3347 12.3013 12.1843 12.5815 11.8835C12.8687 11.5827 13.0122 11.1794 13.0122 10.6736C13.0122 10.4275 12.9746 10.2019 12.8994 9.99679C12.8242 9.79172 12.7148 9.61398 12.5713 9.46359C12.4346 9.3132 12.2637 9.19699 12.0586 9.11496C11.8604 9.03293 11.6382 8.99191 11.3921 8.99191H5.26025C4.82959 8.99191 4.36475 8.91672 3.86572 8.76633C3.3667 8.6091 2.90186 8.35959 2.47119 8.01779C2.04736 7.67599 1.69189 7.22824 1.40479 6.67453C1.12451 6.12082 0.984375 5.44406 0.984375 4.64426C0.984375 3.84445 1.12451 3.17111 1.40479 2.62424C1.69189 2.07052 2.04736 1.62277 2.47119 1.28097C2.90186 0.932341 3.3667 0.682829 3.86572 0.532439C4.36475 0.375212 4.82959 0.296599 5.26025 0.296599H14.335V2.96261H5.26025C4.75439 2.96261 4.35791 3.11642 4.0708 3.42404C3.79053 3.73166 3.65039 4.1384 3.65039 4.64426C3.65039 5.15695 3.79053 5.56369 4.0708 5.86447C4.35791 6.15842 4.75439 6.30539 5.26025 6.30539H11.4126C11.6997 6.31222 12.0039 6.35324 12.3252 6.42843C12.6465 6.49679 12.9644 6.60617 13.2788 6.75656C13.6001 6.90695 13.9043 7.09836 14.1914 7.33078C14.4785 7.55636 14.7314 7.8298 14.9502 8.15109C15.1758 8.47238 15.3535 8.84152 15.4834 9.25851C15.6133 9.67551 15.6782 10.1472 15.6782 10.6736Z"
                fill="currentColor"
              />
              <path
                d="M32.3203 15.0007H29.6543V11.3913H20.2822V15.0007H17.6162V7.64865C17.6162 6.57541 17.8008 5.58761 18.1699 4.68527C18.5391 3.78293 19.0518 3.00705 19.708 2.35763C20.3643 1.70822 21.1401 1.20236 22.0356 0.840056C22.9312 0.477751 23.9087 0.296599 24.9683 0.296599H30.9771C31.1616 0.296599 31.3359 0.330779 31.5 0.399138C31.6641 0.467497 31.8076 0.563201 31.9307 0.686247C32.0537 0.809294 32.1494 0.952849 32.2178 1.11691C32.2861 1.28097 32.3203 1.45529 32.3203 1.63986V15.0007ZM20.2822 8.72531H29.6543V2.96261H24.9683C24.8862 2.96261 24.7119 2.97629 24.4453 3.00363C24.1855 3.02414 23.8813 3.08224 23.5327 3.17795C23.1909 3.27365 22.8286 3.42062 22.4458 3.61886C22.063 3.81711 21.7109 4.09054 21.3896 4.43918C21.0684 4.78781 20.8018 5.22531 20.5898 5.75168C20.3848 6.27121 20.2822 6.90353 20.2822 7.64865V8.72531Z"
                fill="currentColor"
              />
              <path
                d="M50.1416 0.296599L43.1792 14.4778C43.0698 14.6965 42.9058 14.8708 42.687 15.0007C42.4751 15.1374 42.2393 15.2058 41.9795 15.2058C41.7266 15.2058 41.4907 15.1374 41.272 15.0007C41.0601 14.8708 40.896 14.6965 40.7798 14.4778L33.8276 0.296599H36.8115L41.9795 10.8889L47.168 0.296599H50.1416Z"
                fill="currentColor"
              />
              <path
                d="M54.3354 15.0007H51.6694V0.296599H54.3354V15.0007Z"
                fill="currentColor"
              />
              <path
                d="M72.1465 13.8625C72.1465 14.0539 72.1089 14.2317 72.0337 14.3957C71.9653 14.5598 71.8696 14.7033 71.7466 14.8264C71.6304 14.9426 71.4902 15.0349 71.3262 15.1032C71.1621 15.1716 70.9878 15.2058 70.8032 15.2058C70.6392 15.2058 70.4717 15.175 70.3008 15.1135C70.1367 15.052 69.9897 14.9528 69.8599 14.8161L60.1187 4.64426V15.0007H57.4526V1.43478C57.4526 1.16135 57.5278 0.915251 57.6782 0.696501C57.8354 0.470915 58.0337 0.303435 58.2729 0.19406C58.5259 0.0915209 58.7856 0.0675951 59.0522 0.122283C59.3188 0.170134 59.5479 0.293181 59.7393 0.491423L69.4805 10.653V0.296599H72.1465V13.8625Z"
                fill="currentColor"
              />
              <path
                d="M89.7627 13.6574C89.7627 13.8488 89.7285 14.0266 89.6602 14.1906C89.5918 14.3547 89.4961 14.4983 89.373 14.6213C89.2568 14.7375 89.1167 14.8298 88.9526 14.8982C88.7886 14.9665 88.6108 15.0007 88.4194 15.0007H78.8013C78.5552 15.0007 78.2886 14.9734 78.0015 14.9187C77.7212 14.8571 77.4409 14.7649 77.1606 14.6418C76.8872 14.5188 76.624 14.3615 76.3711 14.1701C76.1182 13.9719 75.8926 13.7361 75.6943 13.4626C75.5029 13.1823 75.3491 12.8611 75.2329 12.4987C75.1167 12.1296 75.0586 11.716 75.0586 11.258V4.03927C75.0586 3.79318 75.0859 3.53 75.1406 3.24972C75.2021 2.96261 75.2944 2.68234 75.4175 2.4089C75.5405 2.12863 75.7012 1.86203 75.8994 1.6091C76.0977 1.35617 76.3335 1.134 76.6069 0.942595C76.8872 0.744353 77.2085 0.587126 77.5708 0.470915C77.9331 0.354704 78.3433 0.296599 78.8013 0.296599H89.6396V2.96261H78.8013C78.4526 2.96261 78.186 3.0549 78.0015 3.23947C77.8169 3.42404 77.7246 3.69748 77.7246 4.05978V11.258C77.7246 11.5998 77.8169 11.8664 78.0015 12.0578C78.1929 12.2424 78.4595 12.3347 78.8013 12.3347H87.0967V8.99191H80.001V6.30539H88.4194C88.6108 6.30539 88.7886 6.34299 88.9526 6.41818C89.1167 6.48654 89.2568 6.58224 89.373 6.70529C89.4961 6.82834 89.5918 6.97189 89.6602 7.13595C89.7285 7.29318 89.7627 7.46408 89.7627 7.64865V13.6574Z"
                fill="currentColor"
              />
              <path
                d="M15.6782 29.6736C15.6782 30.1999 15.6099 30.675 15.4731 31.0988C15.3433 31.5158 15.1689 31.885 14.9502 32.2063C14.7314 32.5276 14.4751 32.801 14.1812 33.0266C13.8872 33.2522 13.583 33.4367 13.2686 33.5803C12.9541 33.7238 12.6328 33.8298 12.3047 33.8982C11.9834 33.9665 11.6792 34.0007 11.3921 34.0007H1.10742V31.3347H11.3921C11.9048 31.3347 12.3013 31.1843 12.5815 30.8835C12.8687 30.5827 13.0122 30.1794 13.0122 29.6736C13.0122 29.4275 12.9746 29.2019 12.8994 28.9968C12.8242 28.7917 12.7148 28.614 12.5713 28.4636C12.4346 28.3132 12.2637 28.197 12.0586 28.115C11.8604 28.0329 11.6382 27.9919 11.3921 27.9919H5.26025C4.82959 27.9919 4.36475 27.9167 3.86572 27.7663C3.3667 27.6091 2.90186 27.3596 2.47119 27.0178C2.04736 26.676 1.69189 26.2282 1.40479 25.6745C1.12451 25.1208 0.984375 24.4441 0.984375 23.6443C0.984375 22.8444 1.12451 22.1711 1.40479 21.6242C1.69189 21.0705 2.04736 20.6228 2.47119 20.281C2.90186 19.9323 3.3667 19.6828 3.86572 19.5324C4.36475 19.3752 4.82959 19.2966 5.26025 19.2966H14.335V21.9626H5.26025C4.75439 21.9626 4.35791 22.1164 4.0708 22.424C3.79053 22.7317 3.65039 23.1384 3.65039 23.6443C3.65039 24.1569 3.79053 24.5637 4.0708 24.8645C4.35791 25.1584 4.75439 25.3054 5.26025 25.3054H11.4126C11.6997 25.3122 12.0039 25.3532 12.3252 25.4284C12.6465 25.4968 12.9644 25.6062 13.2788 25.7566C13.6001 25.9069 13.9043 26.0984 14.1914 26.3308C14.4785 26.5564 14.7314 26.8298 14.9502 27.1511C15.1758 27.4724 15.3535 27.8415 15.4834 28.2585C15.6133 28.6755 15.6782 29.1472 15.6782 29.6736Z"
                fill="currentColor"
              />
              <path
                d="M32.3203 34.0007H29.6543V30.3913H20.2822V34.0007H17.6162V26.6486C17.6162 25.5754 17.8008 24.5876 18.1699 23.6853C18.5391 22.7829 19.0518 22.007 19.708 21.3576C20.3643 20.7082 21.1401 20.2024 22.0356 19.8401C22.9312 19.4778 23.9087 19.2966 24.9683 19.2966H30.9771C31.1616 19.2966 31.3359 19.3308 31.5 19.3991C31.6641 19.4675 31.8076 19.5632 31.9307 19.6862C32.0537 19.8093 32.1494 19.9528 32.2178 20.1169C32.2861 20.281 32.3203 20.4553 32.3203 20.6399V34.0007ZM20.2822 27.7253H29.6543V21.9626H24.9683C24.8862 21.9626 24.7119 21.9763 24.4453 22.0036C24.1855 22.0241 23.8813 22.0822 23.5327 22.1779C23.1909 22.2736 22.8286 22.4206 22.4458 22.6189C22.063 22.8171 21.7109 23.0905 21.3896 23.4392C21.0684 23.7878 20.8018 24.2253 20.5898 24.7517C20.3848 25.2712 20.2822 25.9035 20.2822 26.6486V27.7253Z"
                fill="currentColor"
              />
              <path
                d="M48.7163 21.9626H42.8408V34.0007H40.1748V21.9626H34.2891V19.2966H48.7163V21.9626Z"
                fill="currentColor"
              />
              <path
                d="M65.9121 28.0534C65.9121 28.9489 65.7583 29.7727 65.4507 30.5246C65.1431 31.2766 64.7158 31.926 64.1689 32.4729C63.6221 33.0197 62.9727 33.447 62.2207 33.7546C61.4756 34.0554 60.6621 34.2058 59.7803 34.2058H56.1709C55.2891 34.2058 54.4722 34.0554 53.7202 33.7546C52.9683 33.447 52.3188 33.0197 51.772 32.4729C51.2251 31.926 50.7944 31.2766 50.48 30.5246C50.1724 29.7727 50.0186 28.9489 50.0186 28.0534V25.2439C50.0186 24.3552 50.1724 23.5349 50.48 22.7829C50.7944 22.0241 51.2251 21.3747 51.772 20.8347C52.3188 20.2878 52.9683 19.8606 53.7202 19.5529C54.4722 19.2453 55.2891 19.0915 56.1709 19.0915H59.7803C60.6621 19.0915 61.4756 19.2453 62.2207 19.5529C62.9727 19.8606 63.6221 20.2878 64.1689 20.8347C64.7158 21.3747 65.1431 22.0241 65.4507 22.7829C65.7583 23.5349 65.9121 24.3552 65.9121 25.2439V28.0534ZM63.2461 25.2439C63.2461 24.7175 63.1606 24.2424 62.9897 23.8186C62.8257 23.3879 62.5898 23.0222 62.2822 22.7214C61.9814 22.4138 61.6157 22.1779 61.1851 22.0139C60.7612 21.843 60.293 21.7575 59.7803 21.7575H56.1709C55.6514 21.7575 55.1763 21.843 54.7456 22.0139C54.3218 22.1779 53.9561 22.4138 53.6484 22.7214C53.3408 23.0222 53.1016 23.3879 52.9307 23.8186C52.7666 24.2424 52.6846 24.7175 52.6846 25.2439V28.0534C52.6846 28.5798 52.7666 29.0583 52.9307 29.489C53.1016 29.9128 53.3408 30.2785 53.6484 30.5861C53.9561 30.8869 54.3218 31.1228 54.7456 31.2937C55.1763 31.4577 55.6514 31.5398 56.1709 31.5398H59.7598C60.2793 31.5398 60.751 31.4577 61.1748 31.2937C61.6055 31.1228 61.9746 30.8869 62.2822 30.5861C62.5898 30.2785 62.8257 29.9128 62.9897 29.489C63.1606 29.0583 63.2461 28.5798 63.2461 28.0534V25.2439Z"
                fill="currentColor"
              />
              <path
                d="M82.6772 29.6736C82.6772 30.1999 82.6089 30.675 82.4722 31.0988C82.3423 31.5158 82.168 31.885 81.9492 32.2063C81.7305 32.5276 81.4741 32.801 81.1802 33.0266C80.8862 33.2522 80.582 33.4367 80.2676 33.5803C79.9531 33.7238 79.6318 33.8298 79.3037 33.8982C78.9824 33.9665 78.6782 34.0007 78.3911 34.0007H68.1064V31.3347H78.3911C78.9038 31.3347 79.3003 31.1843 79.5806 30.8835C79.8677 30.5827 80.0112 30.1794 80.0112 29.6736C80.0112 29.4275 79.9736 29.2019 79.8984 28.9968C79.8232 28.7917 79.7139 28.614 79.5703 28.4636C79.4336 28.3132 79.2627 28.197 79.0576 28.115C78.8594 28.0329 78.6372 27.9919 78.3911 27.9919H72.2593C71.8286 27.9919 71.3638 27.9167 70.8647 27.7663C70.3657 27.6091 69.9009 27.3596 69.4702 27.0178C69.0464 26.676 68.6909 26.2282 68.4038 25.6745C68.1235 25.1208 67.9834 24.4441 67.9834 23.6443C67.9834 22.8444 68.1235 22.1711 68.4038 21.6242C68.6909 21.0705 69.0464 20.6228 69.4702 20.281C69.9009 19.9323 70.3657 19.6828 70.8647 19.5324C71.3638 19.3752 71.8286 19.2966 72.2593 19.2966H81.334V21.9626H72.2593C71.7534 21.9626 71.3569 22.1164 71.0698 22.424C70.7896 22.7317 70.6494 23.1384 70.6494 23.6443C70.6494 24.1569 70.7896 24.5637 71.0698 24.8645C71.3569 25.1584 71.7534 25.3054 72.2593 25.3054H78.4116C78.6987 25.3122 79.0029 25.3532 79.3242 25.4284C79.6455 25.4968 79.9634 25.6062 80.2778 25.7566C80.5991 25.9069 80.9033 26.0984 81.1904 26.3308C81.4775 26.5564 81.7305 26.8298 81.9492 27.1511C82.1748 27.4724 82.3525 27.8415 82.4824 28.2585C82.6123 28.6755 82.6772 29.1472 82.6772 29.6736Z"
                fill="currentColor"
              />
              <path
                d="M87.5786 25.3054H96.9404V19.2966H99.6064V34.0007H96.9404V27.9919H87.5786V34.0007H84.9126V19.2966H87.5786V25.3054Z"
                fill="currentColor"
              />
              <path
                d="M105.42 34.0007H102.754V19.2966H105.42V34.0007Z"
                fill="currentColor"
              />
            </svg>
          </h1>
        </Link>
        <nav className="flex items-center gap-2 text-xl md:gap-8 md:text-2xl">
          {navItems.length > 0 &&
            navItems.map((item, idx) => (
              <Link
                key={idx}
                href={
                  item.title === 'chapters'
                    ? routes.chaptersUrl
                    : routes.aboutUrl
                }
                className="mr-2 text-center font-nunito text-lg text-white text-opacity-75 transition duration-150 ease-in-out hover:text-opacity-100 sm:text-xl"
              >
                {t(`shared.${item.title}`)}
              </Link>
            ))}
          <LangSwitch />
          <UserButton />
        </nav>
      </div>
    </div>
  )
}
